<section class="addresses">
  <div class="accordion-item">

    <h2 class="accordion-header" id="flush-addresses">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
        Addresses
      </button>
    </h2>

    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-addresses" data-bs-parent="#accordion">
      <div class="accordion-body">
        <section class="card-body" id="addresses-section" >
          <% if @person.addresses.length == 0  %>
            <p>No addresses</p>
          <% elsif @person.addresses.length == 1 %>
              <%= render @addresses %>
          <% else %>
            <div id="addressesCarousel" class="carousel slide" data-touch="true">
              <div class="carousel-indicators">
                <% # Indicator on bottom of carousel %>
                <% @person.addresses.each_with_index do |address, index| %>
                  <button type="button" data-bs-target="#addressesCarousel" data-bs-slide-to="<%= index %>" class="active" aria-current="true" aria-label="Slide <%= index + 1 %>"></button>
                <% end %>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#addressesCarousel" data-bs-slide="prev" >
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>
              <div class="carousel-inner" >
                <% @person.addresses.each_with_index do |address, index| %>
                  <div class="carousel-item <%= index == 0 ? 'active' : '' %>">
                    <%= render address %>
                  </div>
                <% end %>
              </div>
              <button class="carousel-control-next" type="button" data-bs-target="#addressesCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          <% end %>
          <div class="button-right">
            <%= link_to 'Add Address', new_person_address_path(@person, @address), {class:"btn btn-secondary", 'data-toggle': "address-form-modal"} %>
          </div>
        </section>
      </div>
    </div>
  </div>
</section>